> 출저 [AWS 시스템 설계와 마이그레이션](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9791158391201&orderClick=LAG&Kc=)을 보고 정리한 내용입니다.

# 목차
- [목차](#%EB%AA%A9%EC%B0%A8)
- [DB 가용성 향상 패턴](#db-%EA%B0%80%EC%9A%A9%EC%84%B1-%ED%96%A5%EC%83%81-%ED%8C%A8%ED%84%B4)
  - [RDS의 장점](#rds%EC%9D%98-%EC%9E%A5%EC%A0%90)
    - [고가용성 구성을 단시간에 구축 가능](#%EA%B3%A0%EA%B0%80%EC%9A%A9%EC%84%B1-%EA%B5%AC%EC%84%B1%EC%9D%84-%EB%8B%A8%EC%8B%9C%EA%B0%84%EC%97%90-%EA%B5%AC%EC%B6%95-%EA%B0%80%EB%8A%A5)
    - [운용을 위한 기능을 표준 제공함](#%EC%9A%B4%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%9C-%EA%B8%B0%EB%8A%A5%EC%9D%84-%ED%91%9C%EC%A4%80-%EC%A0%9C%EA%B3%B5%ED%95%A8)
  - [운용 포인트](#%EC%9A%B4%EC%9A%A9-%ED%8F%AC%EC%9D%B8%ED%8A%B8)
    - [CloudWatch를 사용해서 스케일 업(확장)할 타이밍을 놓지지 않기](#cloudwatch%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%84%9C-%EC%8A%A4%EC%BC%80%EC%9D%BC-%EC%97%85%ED%99%95%EC%9E%A5%ED%95%A0-%ED%83%80%EC%9D%B4%EB%B0%8D%EC%9D%84-%EB%86%93%EC%A7%80%EC%A7%80-%EC%95%8A%EA%B8%B0)
    - [마스터 슬레이브 구성으로 유지보수 단축하기](#%EB%A7%88%EC%8A%A4%ED%84%B0-%EC%8A%AC%EB%A0%88%EC%9D%B4%EB%B8%8C-%EA%B5%AC%EC%84%B1%EC%9C%BC%EB%A1%9C-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98-%EB%8B%A8%EC%B6%95%ED%95%98%EA%B8%B0)


# DB 가용성 향상 패턴
비 상태(stateless)로 설계한 EC2는 여려 개 준비하로 로드 밸런서를 요청하면 분배함으로써 단 일 서버에 장애가 발생하더라도 시스템 전체가 다운되지 않도록 설계할 수 있습니다. 하지만 데이터 상태를 유지하는 데이터베이스는 상태 유지(statefull)로 할 수 밖에 없습니다.

데이터베이스 가용성을 높이기 위해 레플리케이션(복제) 및 미너링이라는 방법을 취합합니다. 마스터 DB와 슬레이브 DB를 준비하고 평상시에는 애플리케이션에서 마스터 DB에 읽고 쓰기를 합니다. 그리고 마스터 DB와 슬래이브 DB 사이를 동기화하고 보존하고 있는 데이터를 동일한 상태로 만들어 둡니다. 이런 상태를 유지함으로써 마스어 DB가 문제가 발생했을 때 애플리켜이션이 바라보는 곳을 슬레이브 DB로 전환 해서 시스템이 정지되지 않게 할 수 있습니다.

## RDS의 장점

### 고가용성 구성을 단시간에 구축 가능
DB 한쪽의 인스턴스가 장애가 발생했을 때 자동으로 장애 조치가 이뤄집니다. 애플리케이션은 RDS가 제공하는 DB 엔드포인트를 연결 대상으로 이용하지만 장애 조치 시에는 바라보는 엔드포인트를 자동으로 슬레이브 DB의 IP 주소로 전환합니다. 

이런 풍부한 기능을 GUI나 커멘드라인에서 간단히 구축할 수 있다 점이 RDS의 강점입니다.

### 운용을 위한 기능을 표준 제공함
운용에 필요한 백업 취득 및 패치 적용 기능이 미리 표준 으로 제공된다는 것입니다. 

RDS에서는 이러한 기능을 기본으로 제공합니다. 백업에 관해서 저익적으로 스냅숏 및 트랜잭션 로그를 S3에 저장할 수 있습니다. 이들을 이용해 DB 인스턴스의 재구축이나 지정한 시간의 상태로 DB 인스턴스를 복구할 수 도있습니다.

## 운용 포인트

### CloudWatch를 사용해서 스케일 업(확장)할 타이밍을 놓지지 않기
CloudWatch를 설정하고 각 지펴의 중감을 모니터링 할 수 있도록 설정합니다. 릴리즈 직후에닌 요청량을 예상하기 어렵기 떄문에 특히 주의해야합니다. RDS 인스턴스의 부하가 높은 경우에는 스케일 업을 검토합니다.

### 마스터 슬레이브 구성으로 유지보수 단축하기
마스터 슬레이브 구송으로 RDS 인스턴스의 확장 및 패치 적용 등의 유지보수에 의한 정지 시간을 단축할 수 있습니다.

