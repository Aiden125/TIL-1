#23. 새 코드에는 무인자 제네릭 자료형을 사용하지마라

* 선언부에 형인자가 포함된 클래스나 인터페이스는 제네릭 클래스나, 제네릭 인터페이스라고 부란다.
* 제네릭 클래스와 인터페이스는 제네릭 자로형이라고 부른다.

## 무인자 자료형
* 무인자 자료형을 정의하는데, 무인자 자료형은 실 형인자 없이 사용되는 제네릭 자료형이다.
* 예를들어 List<E>의 무인자 자료형은 List 이다. 무인자 자료형은 자료형 선언에서 제네릭 자료형 정보가 전부 삭제된 것처럼 동작한다.


```java
//무인자 반복자 자료형. 앞으로는 이렇게 코딩 하면 안된다.
for (Iterator i = stamps.iterator(); i.hasNext(); ){
    Stamp s = new (Stamp) i.next(); //ClassCastException 예외 발생
}
```

* **무인자 자료형을 쓰면 형 안정성이 사라지고, 제네릭의 장점중 하나인 표현력 측면에서 손해를 보게된다.**
* 그런데 무인자 자료형이 그렇게 나쁘나면 왜 아직 자바는 무인자 자료형을 지원하느가 ? 그것은 호환성 때문이다. 이미 많은 양의 코드가 제네릭 없이 구현된 상태 였음으로 이 코드를 계속 컴파일 되도록 하는 제네릭을 사용하는 새로운 코드와 호환되도록 하는 것이 중요했다
* 새로 만드는 코드에서는 List와 같은 무인자 자료형을 쓰면 안되지만 아무 객체나 넣을 수 있는 List<Object> 같은 자료형은 써도 괜찮다.
* List와 List<Object> 차이는  간단히 말해서 List는 형 검사 절차를 완전히 생략한 것이고 List<Object>는 는 아무 객체나 넣을 수 있다는 것을 컴파일러에게 알려누는 것이다.
* List와 같은 무인자 자료형을 사용하면 형 안전성을 읽데 되지만, List<Object>와 같은 형인자 자료혀응ㄹ 쓰면 그렇지 않다

```java
//실행 도중에 오류를 일으키는 무인자 자료형 List 예
public static void main(String[] args){
    List<String> strings = new ArraList<String>();
    unsafedAdd(strings, new Interger(42));
    String s = strings.get(0); // 컴파일러가 자동으로 형변환
}

private static void unsafeAdd(List list, Obejct o){
    list.add(o);
}
```
* 이 프로그램은 컴파일은 잘 될지만 무인자 자료형 List를 썻기 때문에 경고가 뜬다.
* 런타임 중에는 strings.get(0) 메서드가 String으로 변환하려 하기 때문에 ClassCastException 예외가 발생한다.


## 요약
* 무인자 자료형을 쓰먄 프로그램 실행 도중에 예외가 발생할 수 있음으로 새로 만드는 코드드에는 무인자 자료형을 쓰지말아야한다. 무인자 자료형은 제네릭 도입 전에 작성된 코드와 호환성을 유지하기 위해 제공되는 것에 불과하다.