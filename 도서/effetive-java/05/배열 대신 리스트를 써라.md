# 25. 배열 대신 리스트를 써라

## 배열, 제네릭 자료형의 중요한 차이점 1

### 배열은 공변 자료형
* Sub가 Super의 하위 자료형 이라면 Sub[]도 Super[]의 하위자료형이라는 것이다.

### 제네릭 분변 자료형
Type1, Type2 가 있을 때 상위 자료형이나 하위 자료형이 될 수 없다.

### Sample Code
```java
// 실행 중에 문제를 일으킴
Object[] objectArray = new Long[1];
objectArray[0] = "I dont`t fit in"; // ArrayStoreException 예외 발생

// 컴파일 되지 않은 코드
List<Object> ol = new ArrayList<Ling>(); //자료형 일치
ol.add("I dont`t fit in");
```
둘 중에 어떤 방법을 써도 Long 객체에 컨테이너에 String 객체를 넣을 수는 없다. 그러나 배열을 쓰면 실수를 저지른 사실을 프로그램 실행 중에 알수 있다. **반면 리스트를 사용하면 컴파일할 때 알 수 있다. 물론 컴파일 시에 문제를 반경하는 편이 무조건 좋다**

## 배열, 제네릭 자료형의 중요한 차이점 2
* 배열은 실체화 되는 자료형이라는 것이다. 즉 자료형은 실행시간에 결정된다는 것이다. 위의 예제에서 보듯이 Stirng 객체를 Long 배열에 넣으려고 하면 ArrayStoreException이 발생한다.
* 반면 제네릭은 삭제 과정을 통해 구현된다. 즉 자료형에 관계된 조건들은 컴파일 시점에만 적영되고, 그 각원소의 자료형 정보는 프로그램이 실행될때는 삭제된다는 것이다.
* 자료형 삭제 덕에, 네제릭 자료형은 제네릭을 사용하지 않고 작성된 오래된 코드와도 아무문제없이 연동된다.

## 요약
제네릭과 배열은 따르는 자료형 규칙은 서로 많이 다르다. 배열은 공변 자료형이자 실체화 가능성 자료형이다. 제네릭은 분변 자료형이며, 실행 시간에 형인자 의 정보는 삭제된다. 따라서 배열은 컴파일 시간에 형 안전성을 보장하지 못하며, 제네릭은 그 반대이다. 일반적으로 배열과 제네릭은 쉽게 혼용 할 수없다. 만일 배열과 제네릭을 뒤썩어 쓰다가 컴파일 오류나 경고메시지를 만나면, 배열을 리스트로 바꿔야 겠다는 생각이 본능적으로 들어야한다.