# 46. for 문보다 for-each 문을 사용하라


```java
//배열 순환할 때 한동안 많이 사용한 숙어
for (int i = 0; i < a.lenth; i++){
    doSomethis(a[i]);
}
```
* 반복자나 세번 등장하고 첨자 변수는 네번 등장한다. 실수로 다른 변수를 이용할 가능성이 충분히 높다.
* 그리고 그런 오류는 컴파일 과정에서 탐지되지 않는다.

```java
// 컬렉션이나 배열을 순회할 때는 이 숙어를 따르라
for(Elment e : elemtes){
    doSomething(e);
}
```
* for-earch문은 성능은 for문과 같다. 어떤 상황에서는 일반 for문보다 더 나은 성능을 보이기도 한다.
* 배열 첨자가 이동할 수 있는 한계를 딱 한번만 계산하기 때문이다.
* for-each 문의 장점은 여려 컬렉션의 중첩되는 순화문을 만들때 더 빛이 난다
    * 일반적인 for i, j, k 등 변수를 지속 적으로 추가 해야하고
    * 그런 추가는 실수를 만들기 쉽다. 또 이런 실수는 컴파일 단계에서 알아내기 어렵다.

## for-each 적용 불가능 케이스

* 필터링
    * 컬렉션을 순회하거나 특정한 원스를 삭제할 필요가 있다면, 반복자를 명시적으로 사용해야한다. 반복자의 remove 메서드를호출해야 하기 때문이다.
* 변환
    * 리스트나 배열을 순회하거나 그 원소 가운데 일부 또는 전부의 값을 변경해야 한다면 원소의 값을 수정하기 위해서 리스트 반복이나 배열 첨자가 필요하다.
* 병렬 순회
    * 여러 컬랙션을 병렬적으로 순회해야 하고, 모든 반복자나 첨자 변수가 발맞춰 나아가도록 구현해야 한다면 반복자나 첨자 변수를 명시적으로 제어할 필요가 있다는 것이다.