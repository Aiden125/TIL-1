# 16. 계승하는 대신 구성하라

여기서 말하는 계승은 extends 상속을 의미한다.

* 계승은 코드 재사용을 돕는 강력한 도구지만, 항상 최선이라고는 할 수 없다.
* 계승은 상위 클래스와 하위 클래ㅑ스 구현을 같은 프로그래머가 통제하는 단일 패키지 안에서 사용하면 안전하다. 계승을 고려해 설계되고 그에 ㅏㅈ는 문서를 찾춘 클래스에 사용 하는 것도 안전하다. 

## 이유

* 메서드 호출과 달리, 계승은 캡술화 원칙을 위반한다.
    * 하위 클래스가 정상 동작하기 위해서는 상위 클래스의 구현에 의존할 수박에 없다.
    * 상위 클래스의 구현은 릴리즈가 거읍되면서 바꿀 수 있는데
    * 그러나다 보면 하위 클래스 코드는 수정된 적이 없어도 망가질 수 있다. 
    * 따라서 상위 클래스가 작성자가 계승을 고려해 클래스를 설계하고 문서화까지 만들어 놓지 않았다면, 하위클래스는 상위 클래스의 변화에 발맞춰 진화해야한다.
    * **하위 클래스에서 상위 클래스의 로직을 그대로 쓰면 문제가 생길 염려가 많다는 것이다**

## 해결
* 다행이도 이런 문제를 피할 방법이 있다. 기존 크래스를 계승하는 대신, 새로운 클래스에 기존 클래스 객체를 참조하는 private 필드를 하다 두는 것이다. 이런 설계 기법을 구성(Composition) 이라고 부른다.



## 요약
* 계승은 강력한 도구이지만 캡슐화 원칙을 침해하므로 문제를 발생 시킬 소지가 있다는 것이다.
* 상위 클래스와 하위 클래스 사이에 IS-A 관계가 있을 대만 사용하는 것이 좋다.
* 설사 IS-A 관계가 성립해도, 하위 클래스가 상위 클래스와 다른 패키지에 있거나 곗응을 고려해 만들어진 상위 클래스가 아니라면, 하위 클래스는 깨지기 쉽다.
* 이런 문제를 피하려면 구성과 전달 기법을 사용하는 것이좋다.