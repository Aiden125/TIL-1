# 클린 코더

## 1장 프로의 마음 가짐

### 함부로 바라지 마라
프로페셔널리즘 이란 명예와 긍지의 상징이기도 하지만, 동시에 **책임과 의무**를 나타내기도 한다. 물론 두 가지는 뗄래야 뗼 수 없다. **책임지지도 못할 일에 명예와 긍지를 얻을 수는 없다.** **프로가 아니라면 세상 상기가 훨씬 쉬워진다.** 프로가 아니라면 하는 일에 책임을 느낄 필요가 없으며 회사에 고스란히 책임을 떠념겨도 된다. 프로가 아닌 사람이 잘못을 저지르면 회사가 뒤치다꺼리를 한다. 하지만 **프로가 실수하면, 스스로 뒷감당을 해야 한다. 프로페셔널리즘은 책임이 전부라 해도 과언이 아니다.** 

### 기능에 해를 끼치지마라
소프트웨어는 너무 복잡해서 오류가 생길 수밖에 없다. 안타깝지만 **너무 복잡하다는 이유로 책임이 사라지진 않는다.** 프로가 되겠다는 포부를 가지고 있다면, 우선 사과하는 법을 익혀야 한다. 경력을 쌓아가면서 오류를 만드는 바율을 급격히 떨어뜨려 0에 가깝게 만들어야 한다. **0이 되지 않지만 가능한 0에 가깝게 만드는 게 당신책임이다.**

#### QA는 아무것도 찾지 못해야 한다
QA가 문제를 찾지 못할 것이라고 어느정도 자신할 수 있어야 한다. **코드에 결함이 있는 걸 알면서도 QA에게 코드를 보내는 일은 매우 프로답지 못한 행동이다.** QA가 오류를 찾을까? 십중팔구는 오류를 찾는다. 따라서 **사과할 준비를 해야한다. 또한 오류가 어떻게 감시망을 뚫었는지 알아내 다시는 그런 일이 생기기 않도록 방비해야 한다.** QA가 문제를 찾을 때마다 **개발자는 놀라움과 분함을 느껴야 하며**, 다시는 그런일이 생기지 않도록 마음을 다져야한다.

#### 제대로 동작하는지 아닌지 알아야 한다
테스트하고 또 테스타하아. 월, 화, 수, 목, 금, 토, 일 일곱가지 방식으로 테스트하라. 그렇게 까지 테스트하면 시간이 너무 많이 걸리기 때문에 테스트를 자동화해야한다. 순산에 실행될 수 있는 테스트를 만들고 가능한 자주 돌려라.

**100% 테스트 커버리지를 권장하냐고? 권장이 아니라 경력히 요구한다.** 작성한 코드는 한 줄도 빠짐 없이 전부 테스트해야 한다. 군말은 필요 없다. 비현실적이라고? 전혀 그렇지 않다. 작성한 코드는 당연히 실행된다. 실행된다면 돌아가는지 알아야 한다. 알 수 있는 방법은 테스트 뿐이다. 어떤 코드는 테스트하기 어렵지 않나? 그렇다. **하지만 그 이유는 코드를 테스트하기 어렵게 설계했기 때문이다. 해결책은 테스트하기 쉽게 코드를 설계하는 것이다.**

### 구조에 해를 끼치지마라
전체 구조를 희생하면서까지 기능을 추가하는 일은 헛수고라는 사실은 프로라면 당연히 알고 있다. **구조가 좋아야 코드가 유연해진다. 구조가 위태로우면 미래도 위태롭다.** 소프트웨어는 변한다라는 생각은 모든 소프트웨어 프로젝트의 기본 가정이다. 이 **가정을 어기고 구조를 유연하게 먼들지 못하면 수익 기반인 경제 모델이 취약해진다.** 한마디로 **변경을 할 떄 터무니없는 비용을 치르지 않고 변경할 수 있어야 한다.** 정말 위험한 일은 소프트웨어를 고정된 상태로 두는 일이다. 소프트웨어를 구부리지 않는다면, 정말 변화가 필요 할 떄, 소프트웨어가 단단히 굳어있을 것이다. 왜 개발자들은 코드 바꾸기를 무서워할까? 테스트가 없기 떄문이다.

### 직업 윤리
자기 경력을 회사에 맡기는 개발자에게 재난이 있으라. 회사에서 컨퍼런스, 교육을 해주는 일은 좋은일이다. 회사에서 호의를 베푸는 것이다. **하지만 이런 일이 회사 책임이라고 생각하는 함정에 빠지면 안된다. 회사가 회의를 베풀지 않는다면, 스스로 방법을 찾아야 한다. 그런 호의를 당연시하면 안된다.** 주 40시간 업무가 표준이라면 40시간은 회사의 문제를 푸는 데 써야 한다. 자신의 문제를 푸는데 쓰면 안된다.

**한 주에 60시간 일할 계획을 짜야 한다. 40시간은 회사를 위해 쓰고 나머지 20시간은 자신을 위해 쓴다. 20시간은 읽고 연습하고 공부하고 경력에 도움이 되는 여러 가지를 하며 보내야 한다.** 이렇게까지 시간을 쓰기 싫을지도 모른다. 그건 좋다.하지만 자신을 프로라고 생각해선 안된다. 프로는 직업을 돌보는 데 시간을 투자한다. 그 20시간 동안은 회사를 위해 일해선 안된다. 경력을 위해 힘써야 한다. **회사와 경력 양쪽에 도움되는 일도 있다. 그렇다면 20시간을 투자하는 일도 합리적이다. 하지만 그 20시간을 자신을 위한 시간임을 명심해야한다.** 그 시간은 프로로서 자신의 가치를 높이기 위헤 써야 한다. 소프트웨어 개발자가 된 이유는 소프트웨어에 열정을 느끼며, 그 열정이 프로가 되고 싶다는 바람을 복돋았기 때문일 것이다. 20시간 동안 그 열정을 강하게 만드는 일을 하라. 20시간을 즐겁게 보낼 것이다.


### 끊임 없이 배우기
코딩하지 않은 아키텍처에게 재난이 있으라, 그들은 곧 시대에 뒤떨어진다. 새 언어를 배우지 않은 프로그래머에게 재난이 있으라.

#### 연습
**프로는 연습한다. 진정한 프로는 기술을 날카롭게 갈고 딱아 항상 준비된 상태로 만들려 애쓴다. 일상적인 업무를 연습이라 부르면 안된다. 일상 업무는 연습이라기보다는 공연이다. 업무라는 공연을 떠나 기술을 개선하고 향상시키고자 하는 목적만으로 하는 훈련이 바로 연습이다.**

음악가가 연주에 능숙해지는 방법이 뭘까? **공연이 아니라 연습이다.** 그렇다면 음악가들은 어떻게 연습할까? 여러 훈련을 하겠지만 그중에서도 음계, 연습곡, 음계를 빠르게 연주하는 악구라는 특별한 훈련을 한다. **이 훈련들은 끊임없이 반복해서 손가락과 정신을 훈련하고 기술에 익숙해지도록 단련한다.** 볼링 점수 계산이나 인수분해 프로그래밍 같은 간ㄴ단한 훈련을 계속해서 반복한다. 이런 훈련을 폼새라 한다. 폼새는 종류가 다양해서 선택의 여지가 넓다. **품새의 핵심은 손가락과 두되늘ㄹ 단련시키는 일이다.**

### 함께 일하기
배움에 도움되는 두 번째 방법은 다른 사람들과 함께 일하는 것이다. 프로 소프트웨어 개발자는 함께 프로그래밍하고, 함께 연습하고, 함께 설계하고 계획하는 데 특히 노력을 기울인다.

### 멘토링
배우기에 가장 좋은 방법은 가르치는 것이다. 쓸모 있는 내용을 머릿속에 가장 빠르고 강하게 넣는 방법은 자신이 책임지고 담당하는 사람들과 이야기를 주고 받는 일이다. 가르치고 배울 떄 더 큰 이득을 보는 쪽은 선생님이다.

### 업무 지식을 익혀라
제품의 업무 분야 지식을 알아야한다. 회계 시스템을 만든다면 회계 분야를 알아야한다. 여행 애플리케이션을 만든다면 여행 산업을 알아야한다. 전문가가 될 필요까지는 없지만 적절한 수준에 도닥하기 위해 어느정도 노력을 기울여야 한다. **새로운 분야에 프로젝트를 시작하게 되면, 관련 분야의 책 한두 권 읽어 보자**

### 겸손
프로그래밍은 창조 행위다. 코딩은 무에서 유를 만든다. **과감히 혼돈에 질서를 부여한다.** 그러므로 프로그래밍은 극도로 오만한 행위다. 프로는 자신이 오만하며 겸손할 척할 생각이 없다는 사실을 안다. 프로는 자신의 일을 이해하고 그 일에 자부심을 가진다. 프로는 자기 능력을 확신하고, 그 확신을 바탕으로 계산한 위험을 과감히 짋어진다. 

그러나 프로는 떄떄로 실패한다는 사실과 위험 ㄱ셰산이 틀릴지 모른다는 것 그리고 언젠가 자신의 능력이 부족해지는 날이 온다는 사실을 잘 안다. 끄대가 왔을 떄 거울을 보면 오만한 멍청이 하나가 웃는 모습을 보게된다. 

**그래사 프로는 자신이 웃음거리가 됐을 때, 가장 먼저 웃는다. 절대 다른 사람을 비웃지 않지만, 자신이 비웃음거리가 될 만하다면 기꺼이 받아들인다. 다른 사람이 실수했다고 망신을 주지 않는다, 다음 번 실패할 사람이 자신임을 알기 때문이다.**


## 2장 아니라고 말하기

### 반대하는 역할
내일까지 완성하는 일은 불가능하다는 사실을 충분히 알고 있다면, **"좋아요 한번 해볼게요" 라는 말하는 것은 업무를 처리하는 것이 아니다. 일을 제대로 처리하는 유일한 방법은 "아니요 불가능합니다" 라고 말하는 것이다.**


### 노력햐보기
**최악의 선택은 "알았어요, 노력해벌게요"라고 대답하는 것이다. 노력 해본다 라는 말은 없다** 노력한다는 약속은 추가로 힘을 쏙기만 하면 목표를 달성할 수 있다고 인정하는 뿐만 아니라, 추가로 힘을 쏟아 목표를 달성하기 위해 온 몽을 바치겠다고 말하는 셈이다. 이것은 무거운 짐이다. **"노력"해도 원하는 결과를 만들지 못하면 실패다.** 

**노력하겠다는 약속은 계획을 바꾼다는 약속이다. 지금 계획은 불충분하다고 인정한 셈이다. 새로운 계획도 없고, 어떻게 행동을 바꿔야 할지도 므르고, "노력"하겠다라고 약속 하기 전 그대로 일한다면, 대체 노력하겠다는게 무슨 의미인가? 비축해 둔 에너지도 없고 새 계획도 없고, 행동을 바꿀 생각도 없고, 이성적으로 봤을 때 원래 예측에 확신이 든다면, 노력하겠다라는 약속은 근본적으로 정직하지 못한 행동이며 거지살이다. 아마 체면을 차리고 대답을 피하려 했음이 틀림 없다.** 

### 코드 임파서블
프로는 종종 영웅이 되기도 하지만 영우이 되려 애썼기 때문이 아니다. 프로가 영웅이 될 때는 업무를 충실히, 제시간에, 예산 안에서 완수했을 때다. 구세주라는 명예를 얻기 위해 존은 프로답지 못하게 행동했다. 성공하는 유일한 길은 프로답지 않게 행동하는 것이라 받아들였기에, 그에 맞는 대가를 치렀다. **좋은 코드는 불가능한가? 프로다운 일 처리는 불가능한가? 나의 답변은 다음과 같다 "아니요. 가능합니다."**

## 3장 예라고 말하기

### 약속을 뜻하는 말
약속을 하는 행동은 세 부분으로 나뉜다.


1. 하겠다고 말한다.
2. 진심을 담는다.
3. 실제로 행동한다

**적어도 한 명 이상이 지켜보는데 앞에서 어떤일에 완전한 책임을 져야한다. 사람 대 사람으로 다른 사람에게 바로 자신이 해내겠다고 말하는 일이다. 그것이 진심을 담은 양속의 시작이다. 뭔가를 해야만 하는 상황으로 자신을 밀어 넣어야 한다. 말할 떄 약속을 담은 단어를 사용하면, 다음 두 단계인 진심을 담고 완수하는 단계로 나아가는 데 도움이 된다.**

#### 이 일을 끝내려면 어떤 사람 X가 꼭필요하기 때문에 안될거야
자신이 모든 상황을 제어할 수 있을 떄만 약속해야 한다. 예를 들어 다른 팀에 의존하는 모듈을 끝내는 게 목표라면, 다른 팀과 완전히 하나가 되어서라도 모듈을 끝내겠다고 약속하면 안된다. **다만  목표를 달성하기 위해 아래처럼 구체적인 행동을 한다는 약속은 할 수 있다.**

* 인프라스트럭처 팀의 개리 옆에 앉아 모듈의 의존성에 대해서 한 시간 정도 대화를 나눈다.
* 인터페이스를 만들어 다른 팀의 인프라스트럭처에 대한 의존성을 추상화 한다.
* 이번 주 에 빌드 담당자를 최소 세 번 이상 만나, 변경 사항이 회사 빌드 시스템에서 잘 동작하는지 확인한다
* 개인 빌드을 만들어, 모듈 통합 테스트를 실행 한다.

어쨋 거나 **다른 사람에게 의존하긴 하지만, 목표 달성을 위해 구체적으로 어떤 일을 하겠다는 약속을 해야한다.**

#### 어떻게 해야 할지 방법을 모르기 떄문에 안될거야

어떻게 할지 몰라도, 목표를 달성하기 위해 어떤 행동을 하겠다라는 약속은 할 수 있다. 출시 전 남은 오류 25개를 모두 고치겠다고 약속을 하는 대신 목적을 달성하기 위해 다음처럼 노력하겠다고 약속한다.

* 25개 오류를 모두 조사하고 재현해본다
* 각 오류를 발견한 QA와함꼐 오류를 재현해 본다.
* 이번 주에는 오류 수정에만 넌념한다.

#### 가끔은 어쩔 도리가 없을 떄도 있어서 안 될 거야
살다 보면 예상치 못한 일이 일어나기도한다. 그래도 예상했던 목표를 맞추고 싶다면, 지금 당장 예상치를 바꿔야 한다. 약속을 지키지 못하겠다면, 당장 약속한 사람에게 경고의 붉은 깃발을 휘두르는 일이 가장 중요하다.

* 정오에 동료들과 회의 시간에 늦을거 같다는 생각이 든다면 즉시 동료들애게 알려야 한다.
* 해결할 만해 보였던 오류가 발생보다 심각하다는 사실을 하게 됐다면, 깃발을 들여야 한다.

**문제가 될지라도 모르는 사실을 다른 사람에게 즉시 알리지 않는다면, 약속을 완수하는 데 필요한 도움을 얻을 기회를 스스로 뺏게 된다.**

