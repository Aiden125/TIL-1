# 토비의 스프링



### 1.7

#### 제어의 역전(IoC)과 의존선 주입
* DaoFactory처럼 객체를 생성하고 관계를 맺어주는 등의 작업을 담당하는 기능을 일반화 한것이 스프링의 IoC 컨테이너이다.
* IoC는 매우 느슨하게 정의돼서 폭넓게 사용되는 용어라는 점 때문에 스프링이 제공하는 기능의 특징을 명확하게 설명하지 못한다
* 그래서 스프링이 제공하는 IoC 방식을 핵심을 짚어주는 의존관계 주입(DI)라는, 좀더 의도가 명확히 드러나는 이름을 사용하기 시작함

### 1.5.3

* 빈
  - 빈 또는 빈 오브젝트는 스프링이 IoC 방식으로 관리하는 오브젝트 라는 뜻이다. 관리되는 오베직트라고 부르기도한다. 주의할 점은 스프링을 사용하는 애플ㄹ케이션에서 만들어지는 모든 오브젝트가 다 빈은 아니라는 사실이다. 그중에서 스프링이 직접 그 생성과 제어를 담당하는 오브젝트만을 빈이라고 부른다.
* 빈 팩토리
  - 스프링의 IoC를 담당하는 핵심 컨테이너를 가리킨다. 빈을 등록하고, 생성하고 조회하고 둘려주고, 그 외에 부가적인 빈을 관리하는 기능을 담당한다.
* 어플리케이션 컨텍스트
  - 빈 팩토리를 확장한 IoC 컨테이너다. 빈을 등록하고 관리하는 기본적인 기능을 빈 팩토리와 동일하다. 여기서 스프링이 제공하는 각종 부가 서비스를 추가로 제공한다. 빈 팩토리라고 부를 때는 주로 빈의 생성과 제어의 관점에서 이야기하는 것이고 애플리케이션 컨텍스트라고 할 때는 스프링이 제공하는 에플리케이션 지원기능을 ㅁ두 포함해서 이야깋는 것이라고 보면 된다.
* 설정정보/설정 매타정보
  - 스프링의 설정정보란 애플리케이션 컨텍스트 또는 빈 팩토리가 IoC를 적용하기 위해서 사용하는 매타정보로 말한다. 영어로 `configuration` 이라고 한다.

### 1.6.1 싱글톤 레지스트리로서의 애플리케이션 컨텍스트

#### 서버 애플리케이션과 싱글톤
* 내가 아는 거랑 크게 차이 없음

#### 싱글톤 패턴의 한계

### 1.9 정리

* 먼저 책임이 다른 코드를 분리해서 두 개의 클래스로 만들었다.(관심사 분리, 리팩토링)
* 그중에서 바뀔수 있는 쪽의 클래스는 인터페이스를 구현하도록 하고, 다른 클래스에서 인터페이스를 통해서만 접근하도록 만들었다. 이렇게해서 인터페이스를 정의한 쪽의 구현 방법이 달라져 클래스가 바꿔더라도, 그 기능을 사용하는 클래스는 코드는 같이 수정할 필요가 없도록 만들었다 잔략 패턴
* 이를 통해 자신의 책임 자체가 변경되는 경우 외에는 불필요한 변화가 발생하지 않도록 막아주고, 자신이 사용하는 외부 프로젝트의 기능은 자유롭게 확장하거나 변경할 수있게 만들었다. (OCP)
* 결국 한쪽의 기능 변화가 다른 쪽의 변경을 요구하지 않아도 되게 했고 자신의 책임과 관심사에만 순수하게 집줒ㅇ하는 깔금한 코드를 만들 수있었다.
* 오브젝트가 생성되고 여타 오브젝트와 관계를 맺는 작업의 제어권을 별도의 오브젝트 팩토리를 만들었 넘겼다 또는 오브젝트 팩토리의 기능을 일반화 IoC 컨터이너로 넘겨서 오브젝트가 자신이 사용할 대상의 생성이나 선택에 관한 책임으로 부터 자우롭게 만들어줬다(제어의 역전 /IoC)
*
