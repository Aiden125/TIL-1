
# 1장 IoC 컨테이너와 DI

## 컨테이너: 빈 팩토리와 애플리케이션 컨텍스트
스프링 애플리케이션에서 오브젝트의 생성과 관계설정, 사용, 제거 등의 작업을 애플리케이션 코드 대신에 독립된 컨테이너가 담당한다. 이를 컨테이너가 코드를 대신 오브젝트에 대한 제어권을 갖고 있다고 해서 IoC 라고 부른다. 그래서 스프링 컨테이너를 IoC 컨테이너라고도 한다.
스프링에선 IoC를 담당하는 컨테이너를 빈 팩토리 또는 애플리케이션 컨텍스트라고 부르기도 한다. 오브젝트의 생성과 오브젝트 사이의 런타임 관계를 서정하는 DI 고나점으로 볼 떄는 컨테이너를 빈 팩토리라고 한다. 그런데 스프링 컨테이너는 단순한 DI 작업 보다 더 많은 일을 한다. DI를 위한 빈 백토리에 엔터프라이즈 애플리케이션을 개발하는 데 필요한 여러 가지 컨테이너 기능을 추가한 것을 애플리케이션 컨텍스트라고 부른다. **즉 애플리케이션 컨텍스트는 그 자체로 IoC와 DI를 위한 빈 팩토리이면서 그 이상의 기능을 가젹ㅆ다고 보면 된다.**

## 설정 메타 정보
IoC 컨테이너의 가장 기초적인 영할은 오브젝트를 생성하고 이를 관리하는 것이다. 스프링 컨테이너가 관리하는 이런 오브젝트를 빈 이라고 부른다. IoC 컨테이너가 필요로 하는 설정 메타정보는 바로 이 빈을 어떻게 동작하게 할 것인가에 대한 정보이다.

스프링 IoC 컨에티너는 각 빈에 대한 정보를 담은 설정 메타정보를 읽어들인 뒤에, 이를 참고해서 빈 오브젝트를 생성하고 프로퍼티나 생성자를 통해서 의존 오브젝트를 주입해주는 DI 작업을 수행한다.
IoC 컨에티너가 사용하는 빈 메타 정보는 대략 다음과 같다.
* 빈 아이디, 이름, 별칭: 빈 오브젝트를 구분할 수 있는 식별자
* 클래스 또는 클래스 이름: 빈으로 만들 POJO 클래스 또는 서비스 클래스 정보
* 스코프: 싱글톤, 프로톹입 같은 빈 생성 방식과 존재 범위
* 르포러티 값 또는 참조: DI에서 사용할 프로퍼티 이름과 값 또는 참조하는 빈의 이름
* 생성자 파라미터 값 또는 참조: DI 사용할 생성자 파라미터 이름과 값 또는 참조할 빈의 이름
* 지연된 로딩 여부, 우선 빈 여부, 자동와이어링 여부, 부모 빈 정보, 빈팩토리 이름등

스프링 IoC 컨에티너는 각 빈에 대한 ㅈ어보를 담은 설정 메타정보를 읽어드린 뒤에, 이를 참고해서 빈 오르벡트를 생서하고 프로퍼티나 생성자를 통해 의존 오브젝트를 주깁해주는 DI 작업을 수행한다. 
이작업을 통해 만들어지고, DI로 연결되는 오브젝트들이 모여서 하나의 애플리케이션을 구성하고 동작하게 된다. IoC 컨에티너의 역활이 바로 그것이다.

**결국 스프링 애플리케이션이란 POJO 클래스와 설저 메타정보를 이용해서 IoC 컨테이너가 만들어주는 오브젝트의 조합이라고 할 수있다.**  일반적으로 설정 메타정보는 XML 파일이나 애노테이션 같은 외부 리소스를 전용리더가 읽어서 BeanDefinition 메타정보를 생성할 수도 있다.

구현 클래스들은 인터페이스를 사이를 두고 아주 느슨하고 간접적인 관계를 맺고 있어야 한다.









